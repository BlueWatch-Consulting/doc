==Setup==

===Register namespaces===

On the prolog command line:

  rdf_register_prefix('zbwext', 'http://zbw.eu/namespaces/zbw-extensions/').
  rdf_register_prefix('sdmx-subject', 'http://purl.org/linked-data/sdmx/2009/subject#').
===Vocabularies with hash URIs===

For vocabularies with hash URIs, the SKOS browser does not work correctly. As a workarround, replace '#' with '/' within the URI.

==Installation on Redhat/CentOS==

Amalgame is based on ClioPatria, which is requires the latest version of SWI-Prolog.

===Install SWI Prolog===

====SWI-Prolog 6.6.5 on CentOS 6.5====

1) Install dependencies as indicated in http://www.swi-prolog.org/build/Redhat.html (+ gcc + graphviz)

2) Follow http://www.swi-prolog.org/build/unix.html

Set in build

  PREFIX=/usr/local

====CentOS 5.x====

Did not work - see http://www.swi-prolog.org/bugzilla/show_bug.cgi?id=76 (for CentOS 5.10 and SWI-Prolog 6.6.5, too).

===Install ClioPatria and Amalgame===

  cd /opt
  git clone git://www.swi-prolog.org/home/pl/git/ClioPatria.git
  ./configure

  ./run.pl
    ?- cpack_install('amalgame').

Invoke http://localhost:3020 and set password for 'admin'.

===Set up Apache reverse proxy===

Add to ClioPartria/settings.db:

  %       Prefix for all locations of this server
  setting(http:prefix, '/amalgame').

Create /etc/httpd/conf.d/amalgame.conf

  ProxyPass /amalgame http://127.0.0.1:3020/amalgame
  ProxyPassReverse /amalgame http://127.0.0.1:3020/amalgame

